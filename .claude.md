# Playwright 練習用プロジェクト

Playwright を使ったE2Eテストの学習・練習用アプリケーションです。

## プロジェクト概要

| 項目 | 内容 |
|------|------|
| 目的 | Playwright によるE2Eテスト学習 |
| フレームワーク | React 18 + TypeScript |
| ビルドツール | Vite |
| テスト | Playwright |

---

## ディレクトリ構造

```
playwright-practice-app/
├── src/                    # ソースコード
│   ├── components/         # 再利用可能なUIコンポーネント
│   │   └── Button.tsx      # 例: ボタンコンポーネント
│   ├── pages/              # ページコンポーネント
│   │   └── Home.tsx        # 例: ホームページ
│   ├── utils/              # ユーティリティ関数
│   │   └── formatDate.ts   # 例: 日付フォーマット
│   ├── App.tsx             # メインアプリケーション
│   └── main.tsx            # エントリーポイント
│
├── tests/                  # Playwrightテスト
│   ├── e2e/               # E2Eテストファイル
│   │   └── *.spec.ts      # テストファイル
│   ├── fixtures/          # テストフィクスチャ
│   │   └── testData.ts    # テストデータ
│   └── pages/             # Page Object Model
│       └── HomePage.ts    # 例: ホームページオブジェクト
│
├── playwright.config.ts    # Playwright設定
└── package.json
```

---

## 学習ロードマップ

### Phase 1: 基礎（現在）
- [x] プロジェクトセットアップ
- [x] 基本的なテストの書き方
- [ ] ロケーター戦略の理解
  - CSS セレクター
  - テキストベース
  - ロール（role）ベース ← 推奨

### Phase 2: 実践
- [ ] Page Object Model パターン
- [ ] テストフィクスチャの作成
- [ ] 複数ブラウザでのテスト
- [ ] モバイルビューポートテスト

### Phase 3: 応用
- [ ] API モック・インターセプション
- [ ] ビジュアルリグレッションテスト
- [ ] 並列実行とテスト分離
- [ ] CI/CD連携（GitHub Actions）

### Phase 4: 発展
- [ ] カスタムレポート作成
- [ ] パフォーマンステスト
- [ ] アクセシビリティテスト

---

## 練習用機能（実装予定）

テストを書く練習のために以下の機能を実装：

| 機能 | 学習ポイント |
|------|-------------|
| ログインフォーム | 入力、バリデーション、送信 |
| TODOリスト | CRUD操作、リスト操作 |
| 検索・フィルター | 動的コンテンツ、待機処理 |
| モーダルダイアログ | 表示/非表示、フォーカス管理 |
| ページ遷移 | ナビゲーション、URL確認 |
| API連携 | モック、インターセプション |

---

## コマンド一覧

### 開発
```bash
npm run dev              # 開発サーバー起動 (http://localhost:5173)
npm run build            # 本番ビルド
npm run preview          # ビルド結果プレビュー
```

### テスト
```bash
npx playwright test                    # 全テスト実行
npx playwright test --ui               # UIモードで実行
npx playwright test --project=chromium # Chromeのみ
npx playwright test --headed           # ブラウザ表示あり
npx playwright test --debug            # デバッグモード
npx playwright test tests/e2e/home.spec.ts  # 特定ファイル
```

### ユーティリティ
```bash
npx playwright codegen http://localhost:5173  # テスト自動生成
npx playwright show-report                     # レポート表示
npx playwright install                         # ブラウザインストール
```

---

## Playwright 設定メモ

### ロケーター優先順位
1. `getByRole()` - アクセシビリティ属性（最推奨）
2. `getByLabel()` - ラベルテキスト
3. `getByPlaceholder()` - プレースホルダー
4. `getByText()` - テキスト内容
5. `getByTestId()` - data-testid属性
6. `locator()` - CSSセレクター（最終手段）

### 良いテストの書き方
```typescript
// Good: アクセシビリティロケーター
await page.getByRole('button', { name: '送信' }).click();

// Avoid: CSSセレクター
await page.locator('.submit-btn').click();
```

---

## このプロジェクト固有の規約

### テストファイル命名
- `*.spec.ts` - テストファイル
- `*Page.ts` - Page Objectファイル

### テスト名
- 日本語で記述OK
- 「〜できる」「〜が表示される」形式を推奨

```typescript
test('ログインボタンをクリックするとホーム画面に遷移する', async ({ page }) => {
  // ...
});
```
